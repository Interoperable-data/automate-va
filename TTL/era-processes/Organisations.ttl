@base <https://example.org/va-poc-micro/> .
@prefix rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms:  <http://purl.org/dc/terms/> .
@prefix org:  <http://www.w3.org/ns/org#> .
@prefix schema: <http://schema.org/> .
@prefix :     <#> .

:OrganisationProcess
    a dul:Process ;
    rdfs:label "Organisation Management" ;
    rdfs:comment "OCR + Adding Organisations, their Units and the Sites they operate." ;
    vcard:hasContact :ProcessContact .

:ProcessContact
    a vcard:Individual ;
    vcard:fn "Maarten DUHOUX (ERA)" ;
    vcard:hasEmail "maarten.duhoux@era.europa.eu" .

:task_addOrganisation
    a dul:Task, prov:Action ;
    rdfs:label "Add Organisation/Unit Data" ; # Added label for the task
    rdfs:comment "Allows a user to add basic data about an Organisation under org:Organization." ;
    rdf:first :step_addOrg_1 ;
    rdf:rest :task_addSite .

:step_addOrg_1
    a dul:Action ;
    rdfs:label "Add Organisation - Step 1" ;
    dcterms:description "Add your organisationâ€™s basic data." ;
    dcterms:source <../form-shapes/organisation-start.ttl> ;
    dcterms:subject "http://data.europa.eu/949/OrgOrFormalOrgShape" ; # Added subject for SHACL form
    schema:version "1.0" ;
    rdf:rest :step_addOrg_2 .

:step_addOrg_2
    a dul:Action ;
    rdfs:label "Add Organisation - Step 2" ;
    dcterms:description "Additional organisation properties, e.g. classification, contact info." ;
    dcterms:source <../shapes/orgDetailsShape.ttl> ;
    dcterms:subject "http://data.europa.eu/949/OrgDetailsShape" ; # Added subject for SHACL form
    schema:version "1.0" ;
    rdf:rest rdf:nil .

:task_addSite
    a dul:Task, prov:Action ;
    rdfs:label "Add Site Task" ; # Added label for the task
    rdfs:comment "Allows a user to add a Site, referencing an existing org:Organization." ;
    rdf:first :step_addSite_1 .

:step_addSite_1
    a dul:Action ;
    rdfs:label "Add Site - Step 1" ;
    dcterms:description "Create a Site resource (org:Site) for the chosen Organisation." ;
    dcterms:source <../shapes/addSiteShape.ttl> ;
    dcterms:subject "http://data.europa.eu/949/SiteShape" ; # Added subject for SHACL form
    schema:version "1.0" ;
    rdf:rest rdf:nil .