@base <http://data.europa.eu/949/> .
@prefix era: <http://data.europa.eu/949/> .
@prefix era-sh: <http://data.europa.eu/949/shapes/> .

# From examples
@prefix erapod: <https://storage.inrupt.com/ea779a2c-b43d-4723-8b1a-aaa8990dd576/data/eradis/> .
@prefix gotham: <https://batman.fandom.com/wiki/> .

# General
@prefix as:    <https://www.w3.org/ns/activitystreams#> .
@prefix cc:    <http://creativecommons.org/ns#> .
@prefix dash:  <http://datashapes.org/dash#> .
@prefix dcat:  <http://www.w3.org/ns/dcat#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix dct:  <http://purl.org/dc/terms/> .
@prefix dul:  <http://www.ontologydesignpatterns.org/ont/dul/DUL.owl#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix geo:  <http://www.opengis.net/ont/geosparql#> .
@prefix gr:   <http://purl.org/goodrelations/v1#> .
@prefix org:  <http://www.w3.org/ns/org#> .
@prefix owl:  <http://www.w3.org/2002/07/owl#> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix schema:  <http://schema.org/> .
@prefix sh:   <http://www.w3.org/ns/shacl#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix time: <http://www.w3.org/2006/time#> .
@prefix unit: <http://qudt.org/vocab/unit/> .
@prefix vcard: <http://www.w3.org/2006/vcard/ns#> .
@prefix vpa: <http://w3id.org/vpa#> .
@prefix vs: <http://www.w3.org/2003/06/sw-vocab-status/ns#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# Domain-specific
@prefix era-cld: <http://data.europa.eu/949/eradis/clds/> .
@prefix era-cfg: <http://data.europa.eu/949/vehicleTypeConfigurations/> .
@prefix era-ecd: <http://data.europa.eu/949/eradis/declarations/> .
@prefix eralex: <http://data.europa.eu/949/requirements/> .
@prefix rorg: <http://data.europa.eu/949/organisations/> .
@prefix lorg: <http://data.europa.eu/949/organisations/sites/> .
@prefix uorg: <http://data.europa.eu/949/organisations/units/> .
@prefix eratv: <http://data.europa.eu/949/vehicleTypes/> .
@prefix erava: <http://data.europa.eu/949/vehicleTypeAuthorisations/> .
@prefix eravr: <http://data.europa.eu/949/vehicles/registrations/> .
@prefix evr: <http://data.europa.eu/949/vehicles/> .
@prefix iss: <http://data.europa.eu/949/iss/> . 


# Relevant SKOS Concept Schemes
@prefix era-skos: <http://data.europa.eu/949/concepts/> .
@prefix era-cld-types: <http://data.europa.eu/949/concepts/cld-types/> .
@prefix era-ecd-types: <http://data.europa.eu/949/concepts/ecd-types/> .
@prefix era-cld-modules: <http://data.europa.eu/949/concepts/cld-modules/> .
@prefix era-organisation-roles: <http://data.europa.eu/949/concepts/organisation-roles/> .
@prefix era-states: <http://data.europa.eu/949/concepts/states/> .
@prefix era-va-authcase: <http://data.europa.eu/949/concepts/va-authcases/> .
@prefix era-vtc: <http://data.europa.eu/949/concepts/vehicle-type-configurations/> .
@prefix era-vehicle-types-eratv: <http://data.europa.eu/949/concepts/vehicle-types/eratv/> .
# unused @prefix era-vehicle-types: <http://data.europa.eu/949/concepts/vehicle-types/> .
@prefix era-ntg-rinf: <http://data.europa.eu/949/concepts/nominal-track-gauges/rinf/> .
@prefix era-ess-rinf: <http://data.europa.eu/949/concepts/energy-supply-systems/rinf/> .
@prefix era-noic: <http://data.europa.eu/949/concepts/noise-categories/NoiseCategories/> .
@prefix era-va-trm: <http://data.europa.eu/949/concepts/va-type-registration-methods/> .

 # WARNING: DO NOT (YET) EXIST
@prefix era-permission-types: <http://data.europa.eu/949/concepts/permission-types/> .
@prefix era-ecm-maintenance-functions: <http://data.europa.eu/949/concepts/ecm-maintenance-functions/> .
@prefix era-lex-sections: <http://data.europa.eu/949/concepts/requirements/section/> .
@prefix era-pava-at: <http://data.europa.eu/949/concepts/va-authassessment-types/> .
@prefix era-etcsmanspecset: <http://data.europa.eu/949/concepts/etcs-mandatory-specifications-set/> .
@prefix erava-orgroletasks: <http://data.europa.eu/949/concepts/org-role-tasks/> .
@prefix issform:  <http://era.europa.eu/forms/iss/> . 

# From ISS
@prefix iss-skos: <https://raw.githubusercontent.com/Interoperable-data/ISS_vocabulary/refs/heads/main/iss-skos/> .
@prefix iss-rs:   <http://data.europa.eu/949/iss/concepts/record-statuses/> .

# For inclusion in the ERA ontology, after review
# Do not use currently
era-sh:CLD a 
    owl:Class , sh:NodeShape ;
    rdfs:subClassOf era-sh:TimeBoundDocument, vpa:EvidenceDocument ;
    dcterms:created "2024-10-25"^^xsd:date ;

    rdfs:comment """Certification Level Documents (CLD) issued by NoBos are:
    • EC Certificates
    • QMS-Approvals
    and whether these are Intermediate Statements of Verification (ISVs).

    The EU legislative documents 768/2008/EC, (EU) 2016/797, (EU) 2019/250 and 2010/713/EU establish a number of requirements on the content of CLDs."""@en ;
    rdfs:isDefinedBy <http://data.europa.eu/949/> ;
    rdfs:seeAlso "https://nb-rail.eu/official-documents?_hash=sdZw5f9knrCRlgtc8tjzq263IkcdQhDo05f6n%2FKVqUA%3D&ctx=a%3A1%3A%7Bs%3A2%3A%22id%22%3Bi%3A154%3B%7D&p=documents%2FRFU%2FAll+subsystems%2FRFU-STR-001+Content+of+EC+Certificates.pdf";
    rdfs:label "Certification Level Documents"@en ;
    dcterms:source <http://data.europa.eu/eli/dec/2008/768(1)/oj>, 
        <http://data.europa.eu/eli/dir/2016/797/2020-05-28>,
        <http://data.europa.eu/eli/reg_impl/2019/250/2020-06-16>,
        <http://data.europa.eu/eli/dec/2010/713/oj> ;

    sh:targetClass era:CLD  ;

    # --- CLD properties (updated for real data) ---
    sh:property [
        a sh:PropertyShape ;
        sh:path dcterms:identifier ;
        sh:datatype xsd:string ;
        sh:nodeKind sh:Literal ;
        sh:description "The CLD ID, as defined in RFU-STR-001.";
        sh:minCount 1;
        sh:maxCount 1
    ];
    sh:property [
        a sh:PropertyShape ;
        sh:path vpa:versionNumber ;
        sh:datatype xsd:integer ;
        sh:nodeKind sh:Literal ;
        sh:description "The Version Counter of the CLD, as defined in RFU-STR-001.";
        sh:minCount 1;
        sh:maxCount 1
    ];
    sh:property [
        a sh:PropertyShape ;
        sh:path dcterms:created ;
        sh:datatype xsd:date ;
        sh:nodeKind sh:Literal ;
        sh:description "Date the CLD was created in ERADIS+."@en ;
        sh:minCount 1 ;
        sh:maxCount 1
    ];
    sh:property [
        a sh:PropertyShape ;
        sh:path dcterms:issued ;
        sh:datatype xsd:date ;
        sh:nodeKind sh:Literal ;
        sh:description "Date the CLD was issued by the CAB."@en ;
        sh:minCount 1 ;
        sh:maxCount 1
    ];
    sh:property [
        a sh:PropertyShape ;
        sh:path dcterms:replaces ;
        sh:nodeKind sh:IRI ;
        sh:description "The previous CLD replaced by this one, if any."@en ;
        sh:maxCount 1
    ];
    sh:property [
        a sh:PropertyShape ;
        sh:path dcterms:type ;
        sh:nodeKind sh:IRI ;
        sh:description "SKOS Concept indicating what type of CLD is represented."@en ;
        sh:maxCount 1
    ];
    sh:property [
        a sh:PropertyShape ;
        sh:path dcterms:conformsTo ;
        sh:nodeKind sh:IRI ;
        sh:description "Module(s) or standards to which the CLD conforms."@en ;
        sh:minCount 1
    ];
    sh:property [
        a sh:PropertyShape ;
        sh:path dcterms:source ;
        sh:nodeKind sh:IRI ;
        sh:description "Legal basis for the CLD."@en ;
        sh:minCount 1
    ];
    sh:property [
        a sh:PropertyShape ;
        sh:path dcterms:subject ;
        sh:nodeKind sh:IRI ;
        sh:or (
            [ sh:class era:IC ]
            [ sh:class era:TSI ]
        ) ;
        sh:description "Object of assessment (must be an era:IC or era:TSI). If an IC, exactly one; if TSI, multiple allowed. If no TSI, warning. If no subject, violation."@en ;
        sh:minCount 1 ;
        sh:sparql [
            a sh:SPARQLConstraint ;
            sh:message "There must be at most one era:IC as dcterms:subject."@en ;
            sh:select """
                SELECT $this (COUNT(?ic) AS ?icCount) WHERE {
                  $this dcterms:subject ?ic .
                  ?ic a era:IC .
                } GROUP BY $this HAVING (COUNT(?ic) > 1)
            """
        ] ;
        sh:sparql [
            a sh:SPARQLConstraint ;
            sh:severity sh:Warning ;
            sh:message "No era:TSI is present as dcterms:subject (warning)."@en ;
            sh:select """
                SELECT $this WHERE {
                  FILTER NOT EXISTS { $this dcterms:subject ?tsi . ?tsi a era:TSI }
                }
            """
        ]
    ];
    sh:property [
        a sh:PropertyShape ;
        sh:path vpa:checkedCompliance ;
        sh:nodeKind sh:BlankNodeOrIRI ;
        sh:or (
            [ sh:class era:CABAssessmentCheck ]
            [ sh:class era:CABAuditCheck ]
        ) ;
        sh:description "Any compliance or audit checks (CABAssessmentCheck or CABAuditCheck) performed for this CLD."@en ;
        sh:minCount 0
    ];
    sh:property [
        a sh:PropertyShape ;
        sh:path dcterms:description ;
        sh:datatype xsd:string ;
        sh:nodeKind sh:Literal ;
        sh:description "Human-readable description of the CLD."@en ;
        sh:minCount 1 ;
        sh:maxCount 1
    ];
    sh:property [
        a sh:PropertyShape ;
        sh:path rdfs:seeAlso ;
        sh:datatype xsd:anyURI ;
        sh:nodeKind sh:Literal ;
        sh:description "The ERADIS or other URL of the CLD, if available."@en ;
        sh:maxCount 1
    ];
    sh:property [
        a sh:PropertyShape ;
        sh:path vpa:valid ;
        sh:nodeKind sh:BlankNodeOrIRI ;
        sh:class time:ProperInterval ;
        sh:description "Validity interval of the CLD."@en ;
        sh:minCount 1 ;
        sh:maxCount 1
    ];
    sh:property [
        a sh:PropertyShape ;
        sh:path dcterms:audience ;
        sh:nodeKind sh:IRI ;
        sh:class era:OrganisationRole ;
        sh:description "The organisation using the CLD as Applicant (must be an era:OrganisationRole)."@en ;
        sh:node [
            sh:property [
                sh:path era:roleOf ;
                sh:nodeKind sh:IRI ;
                sh:class era:Body ;
                sh:description "The body to which this role applies (must be an era:Body)."@en ;
                sh:minCount 1 ;
                sh:maxCount 1
            ] ;
            sh:property [
                sh:path era:hasRole ;
                sh:nodeKind sh:IRI ;
                sh:description "The role held, must be a SKOS Concept from era-organisation-roles."@en ;
                sh:in (era-organisation-roles:Applicant era-organisation-roles:Manufacturer ) ; # TODO: To be checked
                sh:minCount 1 ;
                sh:maxCount 1
            ]
        ] ;
        sh:minCount 1 ;
        sh:maxCount 1
    ];
    sh:property [
        a sh:PropertyShape ;
        sh:path dcterms:contributor ;
        sh:nodeKind sh:IRI ;
        sh:class era:OrganisationRole ;
        sh:description "The manufacturer involved in the assessment (must be an era:OrganisationRole)."@en ;
        sh:node [
            sh:property [
                sh:path era:roleOf ;
                sh:nodeKind sh:IRI ;
                sh:class era:Body ;
                sh:description "The body to which this role applies (must be an era:Body)."@en ;
                sh:minCount 1 ;
                sh:maxCount 1
            ] ;
            sh:property [
                sh:path era:hasRole ;
                sh:nodeKind sh:IRI ;
                sh:description "The role held, must be a SKOS Concept from era-organisation-roles."@en ;
                sh:in (era-organisation-roles:Manufacturer era-organisation-roles:AssessmentBody) ; # TODO: to be checked
                sh:minCount 1 ;
                sh:maxCount 1
            ]
        ] ;
        sh:minCount 1 ;
        sh:maxCount 1
    ];
    sh:property [
        a sh:PropertyShape ;
        sh:path dcterms:creator ;
        sh:nodeKind sh:IRI ;
        sh:class era:OrganisationRole ;
        sh:description "The assessment body having issued the CLD (must be an era:OrganisationRole)."@en ;
        sh:node [
            sh:property [
                sh:path era:roleOf ;
                sh:nodeKind sh:IRI ;
                sh:class era:Body ;
                sh:description "The body to which this role applies (must be an era:Body)."@en ;
                sh:minCount 1 ;
                sh:maxCount 1
            ] ;
            sh:property [
                sh:path era:hasRole ;
                sh:nodeKind sh:IRI ;
                sh:description "The role held, must be a SKOS Concept from era-organisation-roles."@en ;
                sh:in (era-organisation-roles:CAB era-organisation-roles:AssessmentBody) ; # TODO: to be checked
                sh:minCount 1 ;
                sh:maxCount 1
            ]
        ] ;
        sh:minCount 1 ;
        sh:maxCount 1
    ];
    sh:property [
        a sh:PropertyShape ;
        sh:path dcterms:coverage ;
        sh:nodeKind sh:IRI ;
        sh:class vpa:Requirement ;
        sh:description "Requirement(s) covered by the CLD. Must be a vpa:Requirement, and NOT an era:TSI or era:IC."@en ;
        sh:message "dcterms:coverage must point to a vpa:Requirement that is not an era:TSI nor an era:IC."@en ;
        sh:sparql [
            a sh:SPARQLConstraint ;
            sh:message "dcterms:coverage must not be an era:TSI or era:IC."@en ;
            sh:select """
                SELECT $this ?covered WHERE {
                  $this dcterms:coverage ?covered .
                  FILTER (EXISTS { ?covered a era:TSI } || EXISTS { ?covered a era:IC })
                }
            """
        ] ;
        sh:minCount 1
    ];
    sh:property [
        a sh:PropertyShape ;
        sh:path dcterms:spatial ;
        sh:nodeKind sh:IRI ;
        sh:class org:Site ;
        sh:description "Manufacturing or assessment site(s), if relevant."@en ;
        sh:maxCount 1
    ];
    sh:property [
        a sh:PropertyShape ;
        sh:path rdfs:comment ;
        sh:datatype xsd:string ;
        sh:nodeKind sh:Literal ;
        sh:description "Free-text comment about the CLD."@en ;
        sh:maxCount 1
    ];
    sh:property [
        a sh:PropertyShape ;
        sh:path dcterms:isReplacedBy ;
        sh:nodeKind sh:IRI ;
        sh:description "IRI of the newer CLD that replaces this one, if any."@en ;
        sh:maxCount 1
    ] ;
    sh:sparql [
        a sh:SPARQLConstraint ;
        sh:message "If dcterms:isReplacedBy is present, the replacing CLD must have a higher vpa:versionNumber than this CLD."@en ;
        sh:select """
            SELECT $this ?replacer ?thisVersion ?replacerVersion WHERE {
                OPTIONAL { $this vpa:versionNumber ?thisVersion . }
                OPTIONAL { $this dcterms:isReplacedBy ?replacer .
                           ?replacer vpa:versionNumber ?replacerVersion . }
                FILTER(bound(?replacer) && bound(?thisVersion) && bound(?replacerVersion) && (?replacerVersion <= ?thisVersion))
            }
        """
    ] ;
    sh:sparql [
        a sh:SPARQLConstraint ;
        sh:message "If dcterms:isReplacedBy is present, the replacing CLD must have a later dcterms:issued date than this CLD."@en ;
        sh:select """
            SELECT $this ?replacer ?thisIssued ?replacerIssued WHERE {
                OPTIONAL { $this dcterms:issued ?thisIssued . }
                OPTIONAL { $this dcterms:isReplacedBy ?replacer .
                           ?replacer dcterms:issued ?replacerIssued . }
                FILTER(bound(?replacer) && bound(?thisIssued) && bound(?replacerIssued) && (?replacerIssued <= ?thisIssued))
            }
        """
    ] ;
    sh:sparql [
        a sh:SPARQLConstraint ;
        sh:severity sh:Warning ;
        sh:message "Both dcterms:subject and vpa:checkedCompliance/vpa:checkedRequirement are used to express compliance to TSI/IC. Prefer only one method."@en ;
        sh:select """
            SELECT $this WHERE {
            $this dcterms:subject ?subj .
            FILTER EXISTS {
                $this vpa:checkedCompliance ?check .
                ?check vpa:checkedRequirement ?req .
                FILTER EXISTS { ?subj a ?type . FILTER(?type IN (era:TSI, era:IC)) }
                FILTER EXISTS { ?req a ?type2 . FILTER(?type2 IN (era:TSI, era:IC)) }
            }
            }
        """
] ;
.

# --- CABCheck shape (for vpa:checkedCompliance, covers both assessment and audit checks) ---
era-sh:CABCheckShape a sh:NodeShape ;
    sh:targetClass era:CABAssessmentCheck, era:CABAuditCheck ;
    sh:property [
        a sh:PropertyShape ;
        sh:path vpa:checkedSection ;
        sh:nodeKind sh:IRI ;
        sh:description "Section of the legal text checked in this check."@en ;
        sh:minCount 1
    ] ;
    sh:property [
        a sh:PropertyShape ;
        sh:or (
            [
                sh:path vpa:isCompliant ;
                sh:datatype xsd:boolean ;
                sh:nodeKind sh:Literal ;
                sh:description "Whether the section is compliant (true/false)."@en ;
                sh:maxCount 1
            ]
            [
                sh:path era:isCompliant ;
                sh:nodeKind sh:IRI ;
                sh:class skos:Concept ;
                sh:description "IRI to a skos:Concept indicating compliance (Y/N/P)."@en ;
                sh:maxCount 1
            ]
        )
    ] ;
    sh:property [
        a sh:PropertyShape ;
        sh:path vpa:checkedRequirement ;
        sh:nodeKind sh:IRI ;
        sh:description "Legal requirement(s) checked in this check."@en ;
        sh:minCount 0
    ] ;
    sh:property [
        a sh:PropertyShape ;
        sh:path vpa:withRestriction ;
        sh:nodeKind sh:BlankNodeOrIRI ;
        sh:class era:CABRestriction ;
        sh:description "Restriction, addition, or condition (CLOU) attached to this check."@en ;
    ] ;
    sh:property [
        a sh:PropertyShape ;
        sh:path rdfs:comment ;
        sh:datatype xsd:string ;
        sh:nodeKind sh:Literal ;
        sh:description "Free-text comment about the check."@en ;
        sh:maxCount 1
    ] ;
    sh:property [
        a sh:PropertyShape ;
        sh:path dcterms:source ;
        sh:nodeKind sh:IRI ;
        sh:description "Legal source for the check."@en ;
        sh:maxCount 1
    ] ;
    sh:property [
        a sh:PropertyShape ;
        sh:path rdfs:seeAlso ;
        sh:datatype xsd:anyURI ;
        sh:nodeKind sh:Literal ;
        sh:description "Reference to supporting documents or reports."@en ;
        sh:maxCount 1
    ] ;
    sh:property [
        a sh:PropertyShape ;
        sh:path era:cabAssessmentResult ;
        sh:datatype xsd:string ;
        sh:nodeKind sh:Literal ;
        sh:description "Assessment result (free text, optional)."@en ;
        sh:maxCount 1
    ] ;
    sh:property [
        a sh:PropertyShape ;
        sh:path era:cabValidityStatement ;
        sh:datatype xsd:string ;
        sh:nodeKind sh:Literal ;
        sh:description "Validity statement (free text, optional)."@en ;
        sh:maxCount 1
    ] ;
.

# Section 2 of a vehicle type should be resolved through Restriction and Compliance resources.
# Conformity of a VehicleType to TSI's
era-sh:TSIConformity a 
    owl:Class , sh:NodeShape , vpa:Restriction ;
    dcterms:created "2024-10-25"^^xsd:date ;
    # dcterms:modified "_RESERVED_"^^xsd:date ;

    ## definitions ----------
    rdfs:label "Vehicle Type Certificate: Conformity with TSI"@en;
    rdfs:seeAlso "https://eur-lex.europa.eu/eli/dec_impl/2011/665/2023-09-08#anx_II"^^xsd:anyURI ;
    dcterms:source <http://data.europa.eu/eli/dec_impl/2011/665/2023-09-08> ;

    ## Properties -----------
    sh:property [
        a sh:PropertyShape ;
        sh:path vpa:regarding ;
        sh:nodeKind sh:IRI ;
        sh:class era:Requirement ; # Use an exact link to the vehicle-related TSI examined /ERALEX
        sh:description "The TSI for which conformity was checked in this VehicleType. Selection from a predefined list of vehicle related TSIs (both in force and those that were previously in force) (multiple selection possible)"@en
    ].

era-sh:TSIComplianceCheck  a 
    owl:Class , sh:NodeShape ;
    rdfs:subClassOf vpa:Compliance ;
    dcterms:created "2024-10-25"^^xsd:date ;
    # dcterms:modified "_RESERVED_"^^xsd:date ;

    ## definitions ----------
    rdfs:label "Vehicle Type Certificate: Conformity with TSI - compliance check"@en;
    rdfs:seeAlso "https://eur-lex.europa.eu/eli/dec_impl/2011/665/2023-09-08#anx_II" ;
    dcterms:source <http://data.europa.eu/eli/dec_impl/2011/665/2023-09-08> ;

    ## properties
    sh:property [
        a sh:PropertyShape ;
        sh:inversePath vpa:checked ;
        sh:class era-sh:ECCertificate ;
        era:eratvIndex "2.2" ;
        sh:description  "The certificate, to be mentioned under 2.2 of the VehicleType, which examined Sections and Specific Cases, and their conclusion."@en , 
                        "EC certificate of verification : Reference of ‘EC type examination certificates’ (if module SB applied) and/or ‘EC design examination certificates’ (if module SH1 applied)"@en
    ];
    sh:property [
        a sh:PropertyShape ;
        sh:path era:isCompliant ; ## see vpa:isCompliant (allows only boolean)
        sh:nodeKind sh:IRI ;
        era:inSkosConceptScheme <http://data.europa.eu/949/concepts/tsi-conformities/ConformityResults> ;# to be created in ERA Vocabulary
        sh:class <http://www.w3.org/2004/02/skos/core#Concept> ; 
        sh:description "Y: Compliant, N: Non-compliant, P: Partially compliant."@en
    ];
    sh:property [
        a sh:PropertyShape ;
        sh:path era:checkedSection ;
        sh:nodeKind sh:IRI ;
        sh:or (
            [
                era:inSkosConceptScheme <http://data.europa.eu/949/concepts/tsi-conformities/TSISpecificCases> ;# to be created in ERA Vocabulary
                sh:class <http://www.w3.org/2004/02/skos/core#Concept> ; 
                sh:description "Applicable specific cases (specific cases conformity with which has been assessed)."@en ;
                era:eratvIndex "2.3"
            ]
            [
                era:inSkosConceptScheme <http://data.europa.eu/949/concepts/tsi-conformities/TSISections> ;# to be created in ERA Vocabulary
                sh:class <http://www.w3.org/2004/02/skos/core#Concept> ; 
                sh:description "Sections of TSI not complied with."@en ;
                era:eratvIndex "2.1"
                # Instances of this TSIComplianceCheck must have vpa:isCompliant "false"^^xsd:boolean
            ]
        )
    ];

    ## TODO: In some cases, the ComplianceCheck MUST be linked to a Vehicle Configuration
    sh:property [
        a sh:PropertyShape ;
        # sh:path :forConfiguration ;
        sh:nodeKind sh:IRI ;
        sh:class era-sh:VehicleTypeConfiguration ;
    ]
.
